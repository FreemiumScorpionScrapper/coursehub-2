<app-navbar></app-navbar>
<div class="container">
	<div class="row">
		<div class="col-md-8">
			<div class="float-left pt-3 w-80 h-75">
				<!-- <app-course-review-form></app-course-review-form> -->
				<!-- <app-comment-input></app-comment-input> -->
				<div *ngIf='!ratingsExist' class="" style="text-align:center"> <strong>No ratings available</strong> </div>

				<div *ngIf="ratingsExist" class="row">
					<div class="col-md-6">
						<app-sliders [initialRating]="setRatings('useful')" [sliderDisabled]='true' [label]="'Usefulness'"></app-sliders>
					</div>
					<div class="col-md-6">
						<app-sliders [initialRating]="setRatings('difficult')" [sliderDisabled]='true' [label]="'Difficulty'"></app-sliders>

					</div>
				</div>
				<div *ngIf="ratingsExist" class="center card border-primary w-75">
					<div class="card-body">
						<div class="card-text">
							<h5 class="card-title border-primary text-center"> {{ratingsCount}} Reviews Scraped From
								<a href="https://course-evals.utoronto.ca/BPI/fbview.aspx?blockid=ytJZV9UhMgS4M6fzUu&userid=yWDFVCPH3gj-r6IuictpFviO9WMFvkp0bwLp&lng=en">
									UofT Course Evals</a>
							</h5>
						</div>

					</div>
					<div class="card-footer">
						<p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
					</div>
				</div>
				<app-comment-list [courseData]="courseData"></app-comment-list>
			</div>
		</div>
		<div *ngIf="courseData" class="col-md-4">
			<br><br>
			<app-course-card [courseData]="courseData" percentColor="orange"></app-course-card>
			<button mdbBtn type="button" gradient="peach" block="true" (click)="courseReviewFormModal.show()"
			 mdbWavesEffect>Rate {{courseData.code}}</button>

			<div mdbModal #courseReviewFormModal="mdbModal" class="modal fade right" tabindex="-1" role="dialog" aria-labelledby="mycourseReviewFormModalLabel"
			 aria-hidden="true">
				<div class="modal-dialog modal-full-height modal-right" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close pull-right" aria-label="Close" (click)="courseReviewFormModal.hide()">
								<span aria-hidden="true">Ã—</span>
							</button>
							<h4 class="modal-title w-100" id="myModalLabel">Rate {{courseData.code}}</h4>
						</div>
						<div class="modal-body">
							<app-course-review-form></app-course-review-form>
						</div>
						<div class="modal-footer">
							<button type="button" mdbBtn color="danger" class="waves-light" aria-label="Close" (click)="courseReviewFormModal.hide()"
							 mdbWavesEffect>Close</button>
							<button type="button" mdbBtn color="primary" class="relative waves-light" mdbWavesEffect>Submit</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>